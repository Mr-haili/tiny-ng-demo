!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["tiny-ng"]=e():t["tiny-ng"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=135)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48);e.Program=r.Program;var o=n(50);e.Statement=o.Statement;var i=n(42);e.ExpressionStatement=i.ExpressionStatement;var s=n(3);e.Expression=s.Expression;var a=n(37);e.AssignmentExpression=a.AssignmentExpression;var u=n(40);e.ConditionalExpression=u.ConditionalExpression;var c=n(45);e.LogicalExpression=c.LogicalExpression;var l=n(38);e.BinaryExpression=l.BinaryExpression;var p=n(51);e.UnaryExpression=p.UnaryExpression;var f=n(46);e.MemberExpression=f.MemberExpression;var d=n(39);e.CallExpression=d.CallExpression;var h=n(43);e.Identifier=h.Identifier;var y=n(44);e.Literal=y.Literal;var v=n(49);e.Property=v.Property;var _=n(47);e.ObjectExpression=_.ObjectExpression;var g=n(36);e.ArrayExpression=g.ArrayExpression;var m=n(41);e.Constant=m.Constant;var b=n(1);e.Ast=b.Ast,e.ESTree=b.ESTree},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11);e.Tree=r.default;var o=n(6);e.Ast=o.default;var i=n(21);e.ParseTree=i.default;var s=n(60);e.RuleNode=s.default;var a=n(61);e.TerminalNode=a.default;var u=n(57);e.ESTree=u.default;var c=n(59);e.ParseTreeVisitor=c.default;var l=n(58);e.ParseTreeVisitFuncTable=l.default},function(t,e,n){"use strict";function r(t,e){return t===e}function o(t){return"string"==typeof t}function i(t){return"number"==typeof t}function s(t){return t instanceof Array}function a(t){return null===t}function u(t){return void 0===t}function c(t){return null==t}function l(t){var e=typeof t;return null!=t&&("object"===e||"function"===e)}function p(t){return h(t)?t[t.length-1]:null}function f(t){return"function"==typeof t}function d(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=x}function h(t){return null!=t&&"function"!=typeof t&&d(t.length)}function y(t){return t.replace(/[A-Z]+/g,function(t){return" "+t}).split(/[^A-Za-z]+/g).filter(function(t){return 0<t.length})}function v(t){return t=t.toLowerCase(),t.length<1?t:t[0].toUpperCase()+t.slice(1)}function _(t){return y(t).map(function(t,e){return 0===e?t.toLowerCase():v(t)}).join("")}function g(t){return y(t).map(function(t){return t.toLowerCase()}).join("-")}function m(t,e){for(var n=null==t?0:t.length,r=0;r<n&&!1!==e(t[r],r,t);r++);return t}function b(t,e){for(var n=null==t?0:t.length,r=n;r>=0&&!1!==e(t[r],r,t);r++);return t}function E(t,e,n){return t?(t.splice(e,0,n),t):t}function O(t,e){return t?(t.splice(e,1),t):t}Object.defineProperty(e,"__esModule",{value:!0});var x=9007199254740991;e._={isEqual:r,isString:o,isNumber:i,isArray:s,isNull:a,isUndefined:u,isNil:c,isObject:l,last:p,isFunction:f,isLength:d,isArrayLike:h,chunkSplit:y,capitalize:v,camelCase:_,kebabCase:g,forEach:m,forEachRight:b,arrayInsert:E,arrayRemove:O},e.default=e._},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.default);e.Expression=i,e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(10),i=n(8);!function(t){t[t.Terminal=0]="Terminal",t[t.Nonterminal=1]="Nonterminal",t[t.RuleEnd=2]="RuleEnd",t[t.EOF=3]="EOF"}(r||(r={})),e.GrammarSymbolType=r;var s=function(){function t(e,n){if("string"==typeof e){var s,a=e;return this.symbol=a,s=t.isTerminal(a)?r.Terminal:r.Nonterminal,o.EOF===a&&(s=r.EOF),void(this.type=s)}if(e instanceof i.default){var u=e;return this.production=u,this.type=n,void(r.RuleEnd===n&&(this.symbol="↑"))}}return t.isTerminal=function(t){var e=t.charAt(0);return"'"===e||e===e.toUpperCase()},t.isNonTerminal=function(t){return!this.isTerminal(t)},t.isEpsilon=function(t){return t===o.EPSILON},t.isEOF=function(t){return t===o.EOF},t.get=function(e){return this._registry.hasOwnProperty(e)||(this._registry[e]=new t(e)),this._registry[e]},t._registry={},t.EOF=new t(o.EOF),t}();e.GrammarSymbol=s,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(63);e.Injector=r.Injector;var o=n(86);e.Component=o.Component,e.Directive=o.Directive;var i=n(88);e.Type=i.Type},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.toJson=function(){return{type:this.type,ivalue:this.ivalue,children:this.children?this.children.map(function(t){return t?t.toJson():null}):null}},t}();e.Ast=r,e.default=r},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(4),i=function(){function t(t,e){this.pid=e;var n=t.split("->");this.start=n[0].trim(),this.expression=n[1].trim().split(/\s+/),""===this.expression[0]&&(this.expression=[]);var i=this.expression.map(function(t){return o.default.get(t)});i.push(new o.default(this,r.GrammarSymbolType.RuleEnd)),this.statusList=i,this.bnfForm=this.start+" -> "+this.expression.join(" ")}return Object.defineProperty(t.prototype,"symbols",{get:function(){return[this.start].concat(this.expression)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEpsilon",{get:function(){return 0===this.expression.length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.bnfForm},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=n(4),i=function(){function t(t,e){this.grammar=t,this._debug=!1,this._isSetsGen=!0,this._firstSets={},this._followSets={},this._firstSetsOfProduction=new Map,this._selectSetsOfProduction=new Map,this._setsGen(e)}return t.prototype._setsGen=function(t){this._firstSetsGen(),this._followSetsGen(),t&&t(this),this._firstSetsOfProductiongGen(),this._selectSetsOfProductionGen(),this._isSetsGen=!1},t.prototype.first=function(t,e){if("string"==typeof t){var n=t;return e&&this._isSetsGen&&(this._firstSets[n]=e),this._firstSets[n]||new Set}var o=t,i=new Set,s=0,a=o.length;if(0===a)return new Set(r.EPSILON);for(var u=void 0;(u=o[s])&&(i=i.union(this.first(u)),i.has(r.EPSILON));s++);return s!==a&&i.delete(r.EPSILON),i},t.prototype.follow=function(t,e){return e&&this._isSetsGen&&(this._followSets[t]=e),this._followSets[t]||new Set},t.prototype.firstOfProduction=function(t,e){return this._isSetsGen&&e&&this._firstSetsOfProduction.set(t,e),this._firstSetsOfProduction.get(t)||new Set},t.prototype.selectOfProduction=function(t,e){return this._isSetsGen&&e&&this._selectSetsOfProduction.set(t,e),this._selectSetsOfProduction.get(t)||new Set},t.prototype._firstSetsGen=function(){var t=this;this.grammar.terminals.forEach(function(e){return t.first(e,new Set([e]))});for(var e,n,r,o=this.grammar.productions,i=!0,s=0;i;){s+=1,i=!1;for(var a=0,u=o;a<u.length;a++)e=u[a],n=this.first(e.start),r=n.union(this.first(e.expression)),this._debug&&(console.log("-------------------------"),console.log("firsetSets计算第${ count }轮:"),console.log(e.bnfForm+", sets: ",r)),n.size!=r.size&&(i=!0,this.first(e.start,r))}},t.prototype._followSetsGen=function(){var t,e,n,i,s,a,u=this.grammar.productions.filter(function(t){return!t.isEpsilon});for(this.follow(this.grammar.entrySymbol,new Set(r.EOF)),t=!0;t;){t=!1;for(var c=0,l=u;c<l.length;c++){var p=l[c];e=p.start,n=p.expression,i=this.follow(e);for(var f=0,d=void 0;d=n[f];f++)o.default.isTerminal(d)||(s=this.follow(d),a=s.union(this.first(n.slice(f+1))),a.has(r.EPSILON)&&(a=a.union(i)),a.delete(r.EPSILON),s.size!=a.size&&(t=!0,this.follow(d,a)))}}},t.prototype._firstSetsOfProductiongGen=function(){for(var t=0,e=this.grammar.productions;t<e.length;t++){var n=e[t];this.firstOfProduction(n,this.first(n.expression))}},t.prototype._selectSetsOfProductionGen=function(){for(var t,e=0,n=this.grammar.productions;e<n.length;e++){var o=n[e];t=this.firstOfProduction(o).union(new Set),t.has(r.EPSILON)&&(t=t.union(this.follow(o.start))),t.delete(r.EPSILON),this.selectOfProduction(o,t)}},t}();e.SetsGenerator=i,e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EPSILON="ε",e.EOF="$"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t.prototype,"childCount",{get:function(){return this.children?this.children.length:0},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25);e.View=r.View,e.Binding=r.Binding;var o=n(91);e.ViewContainer=o.ViewContainer;var i=n(92);e.ViewFactory=i.ViewFactory,e.DirectiveFactory=i.DirectiveFactory,e.EmbeddedViewFactory=i.EmbeddedViewFactory;var s=n(90);e.Module=s.Module;var a=n(68);e.ViewCompiler=a.ViewCompiler;var u=n(66);e.Attributes=u.Attributes;var c=n(67);e.DomElementSchemaRegistry=c.DomElementSchemaRegistry},,function(t,e,n){"use strict";function r(t){t||(t="");var e=u.default.parse(t);return e=l.optimize(e),Object.assign(function(t,n){return c.exec(e,t,n)},{expression:t,literal:o(e),constant:i(e)})}function o(t){return-1!==p.indexOf(t.type)}function i(t){return o(t)&&t instanceof a.Constant}Object.defineProperty(e,"__esModule",{value:!0});var s=n(30),a=n(0),u=n(31),c=new s.Interpreter,l=new s.AstOptimizer;e.$parse=r;var p=[a.ESTree.type.Literal,a.ESTree.type.ArrayExpression,a.ESTree.type.ObjectExpression,"Constant"];e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14);e.$parse=r.$parse;var o=n(77);e.bootstrap=o.bootstrap;var i=n(12);e.Module=i.Module;var s=n(5);e.Component=s.Component,e.Directive=s.Directive},,function(t,e,n){"use strict";function r(t){return null==t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(0),s=n(34),a=function(){function t(){}return t.prototype.exec=function(t,e,n){if(void 0===e&&(e={}),null==t)return null;this._env=e,this._locals=n,t.accept(this);var r=this._result;return this._env=null,this._locals=null,this._result=null,r},t.prototype._putValue=function(t,e){return t.base[t.name]=e},t.prototype._getValue=function(t,e){void 0===e&&(e=!1);var n=t.base,o=t.name;if(!r(n))return r(n[o])&&e&&(n[o]={}),n[o]},t.prototype._evalAstList=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];o?(o.accept(this),e.push(this._result)):e.push(null)}return e},t.prototype.eval=function(t){var e;switch(t.type){case o.ESTree.type.Program:e=this.evalProgram(t);break;case o.ESTree.type.ExpressionStatement:e=this.evalExpressionStatement(t);break;case o.ESTree.type.AssignmentExpression:e=this.evalAssignmentExpression(t);break;case o.ESTree.type.ConditionalExpression:e=this.evalConditionalExpression(t);break;case o.ESTree.type.LogicalExpression:e=this.evalLogicalExpression(t);break;case o.ESTree.type.BinaryExpression:e=this.evalBinaryExpression(t);break;case o.ESTree.type.UnaryExpression:e=this.evalUnaryExprssion(t);break;case o.ESTree.type.Identifier:e=this.evalIdentifier(t);break;case o.ESTree.type.Literal:e=this.evalLiteral(t);break;case"Constant":e=this.evalConstant(t);break;case o.ESTree.type.ObjectExpression:e=this.evalObjectExpression(t);break;case o.ESTree.type.ArrayExpression:e=this.evalArrayExpression(t);break;case o.ESTree.type.MemberExpression:e=this.evalMemberExpression(t);break;case o.ESTree.type.CallExpression:e=this.evalCallExpression(t);break;default:throw"ast interpreter: 未知的抽象语法树类型 "+t.type}this._result=e},t.prototype.evalProgram=function(t){var e=t.body;return this._evalAstList(e).pop()},t.prototype.evalExpressionStatement=function(t){return t.expression.accept(this),this._result},t.prototype.evalAssignmentExpression=function(t){var e=this._fetchReference(t.left,!0);t.right.accept(this);var n=this._result;return this._putValue(e,n),n},t.prototype.evalIdentifier=function(t,e){void 0===e&&(e=!1);var n=this._fetchReference(t);return this._getValue(n,e)},t.prototype.evalMemberExpression=function(t,e){void 0===e&&(e=!1);var n=this._fetchReference(t,e);return this._getValue(n,e)},t.prototype.evalLiteral=function(t){return t.value},t.prototype.evalConstant=function(t){return t.value},t.prototype.evalUnaryExprssion=function(t){var e=t.operator;t.argument.accept(this);var n=this._result;this._isDefined(n)||(n=0);var r;switch(e){case"+":r=+n;break;case"-":r=-n;break;case"!":r=!n;break;default:throw"evalUnaryExpr 不认识的一元运算符: F"+e+"F"}return r},t.prototype.evalBinaryExpression=function(t){var e=t.operator;t.left.accept(this);var n=this._result;t.right.accept(this);var r=this._result;if("+"===e){if(void 0===n)return r;if(void 0===r)return n}"-"===e&&(this._isDefined(n)||(n=0),this._isDefined(r)||(r=0));var o;switch(e){case"+":o=n+r;break;case"-":o=n-r;break;case"*":o=n*r;break;case"/":o=n/r;break;case"%":o=n%r;break;case"===":o=n===r;break;case"!==":o=n!==r;break;case"==":o=n==r;break;case"!=":o=n!=r;break;case">=":o=n>=r;break;case"<=":o=n<=r;break;case">":o=n>r;break;case"<":o=n<r;break;default:throw"evalBinaryExpr 不认识的二元运算符: "+e}return o},t.prototype.evalLogicalExpression=function(t){var e=t.operator;t.left.accept(this);var n=this._result;switch(e){case"&&":return n?(t.right.accept(this),this._result):n;case"||":return n||(t.right.accept(this),n,this._result);default:throw"interpreter: evalLogicalExpression 不认识的逻辑运算符: "+e}},t.prototype.evalConditionalExpression=function(t){return t.test.accept(this),this._result?t.consequent.accept(this):t.alternate.accept(this),this._result},t.prototype.evalObjectExpression=function(t){for(var e,n,r={},o=0,s=t.properties;o<s.length;o++){var a=s[o];e=a.key,n=e instanceof i.Literal?e.value:e.name,a.value.accept(this),r[n]=this._result}return r},t.prototype.evalArrayExpression=function(t){return this._evalAstList(t.elements)},t.prototype._fetchReference=function(t,e){void 0===e&&(e=!1);var n,o="";if(t instanceof i.Identifier&&(o=t.name,n=r(this._locals[o])?this._env:this._locals),t instanceof i.MemberExpression){var a=t,u=a.object;e&&this._isAssignableExpression(u)?u instanceof i.Identifier?n=this.evalIdentifier(u,e):u instanceof i.MemberExpression&&(n=this.evalMemberExpression(u,e)):(a.object.accept(this),n=this._result),a.computed?(a.property.accept(this),o=this._result):o=a.property.name}return new s.default(n,o)},t.prototype.evalCallExpression=function(t){var e,n=t.callee,r=void 0;if(n instanceof i.MemberExpression){var o=this._fetchReference(n);e=this._getValue(o),r=o.base}else n.accept(this),e=this._result,r=this._env;if(e){var s=this._evalAstList(t.arguments);return e.apply(r,s)}},t.prototype._isAssignableExpression=function(t){return t instanceof i.Identifier||t instanceof i.MemberExpression},t.prototype._isDefined=function(t){return void 0!==t},t}();e.Interpreter=a,e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(8),i=n(1),s=function(){function t(t,e,n){var s=[],a=new Set,u=new Set,c=this.parseTreeVisitFuncTable=new i.ParseTreeVisitFuncTable;t.forEach(function(t){return c.addVisitFunc(t.terminal,t.visitFunc)});for(var l,p=void 0,f=0;p=e[f];f++)l=new o.default(p.bnf,f),s.push(l),c.addVisitFunc(f,p.visitFunc||null);for(var d=0,h=s;d<h.length;d++)for(var y=h[d],v=0,_=y.symbols;v<_.length;v++){var g=_[v];r.default.isNonTerminal(g)?u.add(g):a.add(g)}this.productions=s,this.terminals=a,this.nonterminals=u,this.symbols=this.terminals.union(this.nonterminals),this.entrySymbol=n}return t.prototype.getProductionsByStart=function(t){return this.productions.filter(function(e){return e.start===t})},t.prototype.getProductionByPid=function(t){return this.productions[t]},t.prototype.printProductions=function(){this.productions.forEach(function(t){return console.log(t.bnfForm)})},t}();e.Grammar=s,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=function(){function t(t,e,n,r,o,i){this._type=t,this._text=e,n||(this._value=e)}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineNum",{get:function(){return this._lineNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"charNum",{get:function(){return this._charNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenNum",{get:function(){return this._tokenNum},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"type: "+this.type+", text: "+this.text},t.EOF=new t(r.EOF,r.EOF),t}();e.Token=o,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Set.prototype.union=function(t){var e=new Set(this);return t.forEach(function(t){return e.add(t)}),e},Set.prototype.intersection=function(t){var e=this,n=new Set;return t.forEach(function(t){return e.has(t)?n.add(t):null}),n},Set.prototype.difference=function(t){var e=new Set(this);return t.forEach(function(t){return e.delete(t)}),e}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.default);e.default=i},,,,function(t,e,n){"use strict";function r(t,e){t.root=e,o.default.forEach(t._children,function(t){r(t,e)})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=function(){function t(t,e,n){this.targetProp=t,this.watchFn=e,this.target=n,this.expression=e.expression||""}return t.prototype.check=function(t,e){if(o.default.isObject(t)){var n=this.target;try{var r=this.watchFn(t,e);if(!o.default.isObject(r)&&r===this.oldValue)return;n[this.targetProp]=this.oldValue=r}catch(t){console.error("表达式: "+this.expression+" 求值出错: "+t)}}},t}();e.Binding=i;var s=function(){function t(t,e){void 0===e&&(e={}),this._context=t,this._locals=e,this.root=this,this._afterDetectChangesTaskQueue=[],this.bindings=[],this._children=[]}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locals",{get:function(){return this._locals},enumerable:!0,configurable:!0}),t.prototype.addChild=function(t,e){(o.default.isNil(e)||e>this._children.length)&&(e=this._children.length),r(t,this.root),o.default.arrayInsert(this._children,e,t),t.locals.__proto__=this.locals},t.prototype.bind=function(t){var e=this;return this.bindings.push(t),function(){var n=e.bindings,r=n.indexOf(t);-1!==r&&(e.bindings=n.slice(0,r).concat(n.slice(r+1)))}},t.prototype.detectChanges=function(){var e=this;t._debug&&console.log("detectChanges: "+this),o.default.forEach(this.bindings,function(t){t.check(e.context,e.locals)}),o.default.forEach(this._children,function(t){t.detectChanges()});for(var n=this._afterDetectChangesTaskQueue;n.length;)n.shift()()},t.prototype.addAfterDetectChangesTask=function(t){this._afterDetectChangesTaskQueue.push(t)},t.prototype.destroy=function(){var t=this._hostElement.parentElement;t&&t.removeChild(this._hostElement)},t._debug=!1,t}();e.View=s},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(20);var r=n(6);e.Ast=r.Ast;var o=n(17);e.Interpreter=o.Interpreter;var i=n(35);e.AstOptimizer=i.AstOptimizer;var s=n(0);e.ESTree=s.ESTree,e.Expression=s.Expression,e.Constant=s.Constant},function(t,e,n){"use strict";function r(t){return-1!==["||","&&"].indexOf(t)}function o(t,e){var n=e.children,r=n[0],o=n[1],i=t.visit(r);return t.visit(o,i)}function i(t,e,n){if(!e.production||e.production.isEpsilon)return n;var o,i=t.visit(e.getChild(1)),s=e.firstChild.payload.text;r(s)?v.LogicalExpression:v.BinaryExpression;return o=r(s)?new v.LogicalExpression(s,n,i):new v.BinaryExpression(s,n,i),t.visit(e.getChild(2),o)}function s(t,e){var n=e.firstChild.payload.text,r=t.visit(e.lastChild);return new v.UnaryExpression(n,r)}function a(t){return t.type===h.ESTree.type.Identifier||t.type===h.ESTree.type.MemberExpression}function u(t,e){var n=t.visit(e.firstChild);return t.visit(e.lastChild,n)}function c(t,e,n){if(!e.production||e.production.isEpsilon)return n;var r=e.firstChild.payload.text,o=t.visit(e.getChild(1)),i=t.visit(e.lastChild,o);if(!a(n))throw"assign_exp -> add_exp assign_exp_plus访问改写出错, add_exp实际成树后只能是Identifier或MemberExpression, 当前返回类型为"+n.type;return new v.AssignmentExpression(r,n,i)}function l(t){var e,n=t.payload,r=n.text;switch(n.type){case y.LITERAL_UNDEFINED:case y.LITERAL_NULL:e=null;break;case y.LITERAL_BOOL:e="true"===r;break;case y.LITERAL_STR:e=r.slice(1,-1);break;case y.LITERAL_NUM:e=parseFloat(r);break;default:throw"未知的字面量token类型: "+n.type}return new v.Literal(e)}Object.defineProperty(e,"__esModule",{value:!0});var p=n(53),f=n(52),d=n(56),h=n(1),y=n(65),v=n(0),_=[{type:"SPACE",pattern:"\\s",isIgnore:!0},{type:y.ENTER,pattern:"\\n",isIgnore:!0},{type:y.TAB,pattern:"\\t",isIgnore:!0},{type:y.OPEN_PAREN,pattern:"\\("},{type:y.CLOSE_PAREN,pattern:"\\)"},{type:y.OPEN_SQUARE,pattern:"\\["},{type:y.CLOSE_SQUARE,pattern:"\\]"},{type:y.OPEN_CURLY,pattern:"{"},{type:y.CLOSE_CURLY,pattern:"}"},{type:y.COMMA,pattern:","},{type:y.COLON,pattern:":"},{type:y.QUESTION_MARK,pattern:"\\?"},{type:y.DOT,pattern:"\\."},{type:y.SEMICOLON,pattern:";"},{type:y.LITERAL_NULL,pattern:"null"},{type:y.LITERAL_UNDEFINED,pattern:"undefined"},{type:y.LITERAL_BOOL,pattern:"(true|false)"},{type:y.LITERAL_STR,pattern:"'[^']*'"},{type:y.LITERAL_STR,pattern:'"[^"]*"'},{type:y.LITERAL_NUM,pattern:"(\\d+)(\\.\\d+)?"},{type:y.WHILE,pattern:"while"},{type:y.IF,pattern:"if"},{type:y.VAR,pattern:"var"},{type:y.FUNC,pattern:"function"},{type:y.OP_EQUAL,pattern:"(===|!==|==|!=)"},{type:y.OP_LOGICAL,pattern:"(&&|\\|\\|)"},{type:y.OP_RELATION,pattern:"(>=|<=|>|<)"},{type:y.OP_ASSIGN,pattern:"="},{type:y.OP_ADD,pattern:"[\\+-]"},{type:y.OP_MULT,pattern:"[\\*/%]"},{type:y.OP_NOT,pattern:"!"},{type:y.IDENTIFIER,pattern:"[$_A-Za-z][_A-Za-z0-9]*"}],g=[{terminal:y.IDENTIFIER,visitFunc:function(t){return new v.Identifier(t.payload.text)}}];["UNDEFINED","NULL","BOOL","NUM","STR"].forEach(function(t){var e="LITERAL_"+t;g.push({terminal:e,visitFunc:l})});var m=[{bnf:"program -> statement_list",visitFunc:function(t,e){var n=new v.Program;return t.visit(e.firstChild,n),n}},{bnf:"statement_list -> "},{bnf:"statement_list -> statement statement_list_plus",visitFunc:function(t,e,n){var r=t.visit(e.firstChild);return n.body.push(r),t.visit(e.lastChild,n)}},{bnf:"statement_list -> SEMICOLON statement_list"},{bnf:"statement_list_plus -> SEMICOLON statement_list"},{bnf:"statement_list_plus -> "},{bnf:"statement -> exp",visitFunc:function(t,e){var n=t.visit(e.firstChild);return new v.ExpressionStatement(n)}},{bnf:"exp -> assign_exp"},{bnf:"assign_exp -> conditional_exp assign_exp_plus",visitFunc:u},{bnf:"assign_exp_plus -> OP_ASSIGN conditional_exp assign_exp_plus",visitFunc:c},{bnf:"assign_exp_plus ->",visitFunc:c},{bnf:"conditional_exp -> logical_exp conditional_exp_plus",visitFunc:function(t,e){var n=t.visit(e.firstChild);return t.visit(e.lastChild,n)}},{bnf:"conditional_exp_plus -> "},{bnf:"conditional_exp_plus -> QUESTION_MARK assign_exp COLON assign_exp",visitFunc:function(t,e,n){var r=t.visit(e.getChild(1)),o=t.visit(e.lastChild);return new v.ConditionalExpression(n,r,o)}},{bnf:"logical_exp -> equal_exp logical_exp_plus",visitFunc:o},{bnf:"logical_exp_plus -> OP_LOGICAL equal_exp logical_exp_plus",visitFunc:i},{bnf:"logical_exp_plus -> ",visitFunc:i},{bnf:"equal_exp -> relation_exp equal_exp_plus",visitFunc:o},{bnf:"equal_exp_plus -> OP_EQUAL relation_exp equal_exp_plus",visitFunc:i},{bnf:"equal_exp_plus -> ",visitFunc:i},{bnf:"relation_exp -> add_exp relation_exp_plus",visitFunc:o},{bnf:"relation_exp_plus -> OP_RELATION add_exp relation_exp_plus",visitFunc:i},{bnf:"relation_exp_plus -> ",visitFunc:i},{bnf:"add_exp -> mult_exp add_exp_plus",visitFunc:o},{bnf:"add_exp_plus -> OP_ADD mult_exp add_exp_plus",visitFunc:i},{bnf:"add_exp_plus -> ",visitFunc:i},{bnf:"mult_exp -> unary_exp mult_exp_plus",visitFunc:o},{bnf:"mult_exp_plus -> OP_MULT unary_exp mult_exp_plus",visitFunc:i},{bnf:"mult_exp_plus -> ",visitFunc:i},{bnf:"unary_exp -> OP_NOT unary_exp",visitFunc:s},{bnf:"unary_exp -> OP_ADD unary_exp",visitFunc:s},{bnf:"unary_exp -> lhs_exp"},{bnf:"lhs_exp -> primary postfix_list",visitFunc:function(t,e){var n=t.visit(e.firstChild);return t.visit(e.lastChild,n)}},{bnf:"postfix_list -> "},{bnf:"postfix_list -> postfix postfix_list",visitFunc:function(t,e,n){var r=t.visit(e.firstChild,n);return t.visit(e.lastChild,r)}},{bnf:"postfix -> postfix_access"},{bnf:"postfix -> postfix_subscript"},{bnf:"postfix -> postfix_call"},{bnf:"postfix_access -> DOT IDENTIFIER",visitFunc:function(t,e,n){var r=t.visit(e.lastChild);return new v.MemberExpression(n,r,!1)}},{bnf:"postfix_subscript -> OPEN_SQUARE exp CLOSE_SQUARE",visitFunc:function(t,e,n){var r=t.visit(e.getChild(1));return new v.MemberExpression(n,r,!0)}},{bnf:"postfix_call -> arguments",visitFunc:function(t,e,n){var r=new v.CallExpression(n);return t.visit(e.firstChild,r),r}},{bnf:"arguments -> OPEN_PAREN argument_list CLOSE_PAREN"},{bnf:"argument_list -> "},{bnf:"argument_list -> exp argument_list_plus",visitFunc:function(t,e,n){var r=t.visit(e.firstChild);return n.arguments.push(r),t.visit(e.lastChild,n)}},{bnf:"argument_list_plus -> "},{bnf:"argument_list_plus -> COMMA argument_list"},{bnf:"primary -> IDENTIFIER"},{bnf:"primary -> literal"},{bnf:"primary -> array_exp"},{bnf:"primary -> object_exp"},{bnf:"primary -> OPEN_PAREN exp CLOSE_PAREN"},{bnf:"literal -> LITERAL_UNDEFINED"},{bnf:"literal -> LITERAL_NULL"},{bnf:"literal -> LITERAL_BOOL"},{bnf:"literal -> LITERAL_NUM"},{bnf:"literal -> LITERAL_STR"},{bnf:"array_exp -> OPEN_SQUARE element_list CLOSE_SQUARE",visitFunc:function(t,e){var n=new v.ArrayExpression;return t.visit(e.getChild(1),n),n}},{bnf:"element_list ->"},{bnf:"element_list -> exp element_list_plus",visitFunc:function(t,e,n){var r=t.visit(e.firstChild);return n.elements.push(r),t.visit(e.lastChild,n)}},{bnf:"element_list -> COMMA element_list",visitFunc:function(t,e,n){return n.elements.push(null),t.visit(e.lastChild,n)}},{bnf:"element_list_plus -> COMMA element_list"},{bnf:"element_list_plus -> "},{bnf:"object_exp -> OPEN_CURLY property_def_list CLOSE_CURLY",visitFunc:function(t,e){var n=new v.ObjectExpression;return t.visit(e.getChild(1),n)}},{bnf:"property_def_list -> property_def property_def_list_plus",visitFunc:function(t,e,n){var r=t.visit(e.firstChild);return n.properties.push(r),t.visit(e.lastChild,n)}},{bnf:"property_def_list -> "},{bnf:"property_def_list_plus -> "},{bnf:"property_def_list_plus -> COMMA property_def_list"},{bnf:"property_def -> property_name COLON exp",visitFunc:function(t,e){var n=t.visit(e.getChild(0)),r=t.visit(e.getChild(2));return new v.Property(n,r)}},{bnf:"property_name -> literal"},{bnf:"property_name -> IDENTIFIER"}],b=new p.Lexer(_),E=new f.Grammar(g,m,"program"),O=new d.default(E,b,function(t){var e=t.follow("assign_exp_plus");t.follow("assign_exp_plus",e.difference(new Set(["OP_ASSIGN"])))});e.default=O},,function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.Diff=r.Diff,e.DiffType=r.DiffType;var o=n(5);e.Patch=o.Patch;var i=n(3);e.myers=i.myers},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r;!function(t){t[t.DELETE=-1]="DELETE",t[t.INSERT=1]="INSERT",t[t.EQUAL=0]="EQUAL"}(r=e.DiffType||(e.DiffType={}));var o=function(){function t(t,e){void 0===e&&(e=r.EQUAL),this.item=t,this.type=e}return t.recoverOldList=function(t){return this._filter(t,r.INSERT)},t.recoverNewList=function(t){return this._filter(t,r.DELETE)},t._filter=function(t,e){return t.filter(function(t){return t.type!==e}).map(function(t){return t.item})},t.prototype.toString=function(){return"("+this.type+',"'+this.item.toString()+'")'},t}();e.Diff=o},function(t,e,n){"use strict";function r(t,e,n){return Array.prototype.slice.call(t,e,n)}function o(t,e,n){for(var r,o,s,a,u,c=[],l=1,p=n.length;l<p;l++)f=[n[l].x,n[l].y,n[l-1].x,n[l-1].y],o=f[0],s=f[1],a=f[2],u=f[3],r=s===u?new i.Diff(t[o-1],i.DiffType.DELETE):o===a?new i.Diff(e[s-1],i.DiffType.INSERT):new i.Diff(t[o-1]),c.push(r);return c;var f}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),s=function(){function t(t){this.isEqFn=t}return t.prototype.diffMain=function(t,e){if(null==t||null==e)throw"Null inputs. (diff_main)";var n,o,s=[t.length,e.length],a=s[0],u=s[1],c=t!==e?this.diffCommonPrefix(t,e):a,l=a!==c?this.diffCommonSuffix(t,e):0,p=this._diffCompute(r(t,c,a-l),r(e,c,u-l));for(f=[0,c],n=f[0],o=f[1];n<o;)p.unshift(new i.Diff(t[o-n-1])),n+=1;for(d=[a-l,a],n=d[0],o=d[1];n<o;)p.push(new i.Diff(t[n++]));return p;var f,d},t.prototype._diffCompute=function(t,e){return o(t,e,i.myers(t,e))},t.prototype.diffCommonPrefix=function(t,e){for(var n=[t.length,e.length],r=n[0],o=n[1],i=r>o?o:r,s=0;s<i&&t[s]===e[s];s++);return s},t.prototype.diffCommonSuffix=function(t,e){for(var n=[t.length,e.length],r=n[0],o=n[1],i=r>o?o:r,s=1;s<=i&&t[r-s]===e[o-s];s++);return s-1},t.prototype.patchMake=function(t,e){var n;if(1===arguments.length){if(n=t,0===n.length)return[];if(!(n[0]instanceof i.Diff))throw"patchMake: unsupport arguments";return i.Patch.make(n)}var r=t;return n=this.diffMain(r,e),i.Patch.make(n)},t.prototype.patchApply=function(t,e){return i.Patch.apply(t,e)},t}();e.ListDiffer=s,e.makeDiffsFromPosList=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);e.myers=r.myers},function(t,e,n){"use strict";function r(t,e){if(s(t)&&s(e))return[];var n={},r={};n[0]=i(t,e,{x:0,y:0});for(var a,u,c,l,p,f,d=t.length+e.length+1;d--;){for(var h=-e.length;h<=t.length;h++)if(a=n[h]){if(a.x===t.length&&a.y===e.length){for(var y=[];a;)y.unshift(a),v=[a.prePos,a],a=v[0],f=v[1],delete f.prePos;return y}_=[a.x,a.y],l=_[0],p=_[1],c=l-p,u=i(t,e,{x:l+1,y:p,prePos:a}),r[c+1]=o(r[c],u),u=i(t,e,{x:l,y:p+1,prePos:a}),r[c-1]=o(r[c],u)}n=r,r={}}var v,_}function o(t,e){return t?(t.x!==e.x&&(t.x,e.x),t.y>e.y?t:e):e}function i(t,e,n){for(var r=[n.x,n.y],o=r[0],i=r[1];t[o]&&e[i]&&t[o]===e[i];)o+=1,i+=1,n={x:o,y:i,prePos:n};return n}function s(t){return!t||0===t.length}Object.defineProperty(e,"__esModule",{value:!0});e.myers=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t,e,n){this.oldStart=t,this.newStart=e,this.diffs=n,this.oldLen=r.Diff.recoverOldList(n).length,this.newLen=r.Diff.recoverNewList(n).length}return t.make=function(e){var n,o,i=(r.Diff.recoverOldList(e),[]),s=new r.Diff(null),a=0,u=0,c=0,l=0,p=!0,f=!0;for(e.push(s),n=e.length;u<n;)f=e[u].type===r.DiffType.EQUAL,p===f?(u+=1,f&&(c+=1)):(p||(o=new t(c,c+l,e.slice(a,u)),i.push(o),c+=o.oldLen,l+=o.newLen-o.oldLen),a=u,p=!p);return e.pop(),i},t.apply=function(t,e,n){for(var o,i=[],s=0,a=0,u=t;a<u.length;a++){var c=u[a];for(o=[c.oldStart][0];s<o;)i.push(e[s++]);for(var l=0,p=c.diffs;l<p.length;l++){var f=p[l];switch(f.type){case r.DiffType.EQUAL:i.push(f.item),s+=1;break;case r.DiffType.DELETE:s+=1;break;case r.DiffType.INSERT:i.push(f.item);break;default:throw"error patch type: "+f.type}}}for(var d=e.length;s<d;)i.push(e[s++]);return i},t}();e.Patch=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.ListDiffer=r.ListDiffer;var o=n(0);e.DiffType=o.DiffType,e.Diff=o.Diff,e.Patch=o.Patch}])})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){void 0===n&&(n=!0),this.base=t,this.name=e,this.strict=n}return t.prototype.isStrictReference=function(){return this.strict},t.prototype.hasPrimitiveBase=function(){return-1!==["number","string","boolean"].indexOf(typeof this.base)},t.prototype.isPropertyReference=function(){return this.base instanceof Object||this.hasPrimitiveBase()},t.prototype.isUnresolvableReference=function(){return void 0===this.base},t}();e.Reference=r,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(17),s=function(){function t(){this._interpreter=new i.default,this._placeholder=new o.Constant(null),this._result=this._placeholder,this._logicalExpressionTruthTable={102:1,2:0,201:0,200:2,112:0,12:1,211:2,210:0}}return t.prototype.optimize=function(t){return null==t?null:(t.accept(this),this._result)},t.prototype.eval=function(t){var e=this._placeholder;switch(t.type){case r.ESTree.type.Program:e=this.optimizeProgram(t);break;case r.ESTree.type.ExpressionStatement:e=this.optimizeExpressionStatement(t);break;case r.ESTree.type.AssignmentExpression:e=this.optimizeAssignmentExpression(t);break;case r.ESTree.type.ConditionalExpression:e=this.optimizeConditionalExpression(t);break;case r.ESTree.type.LogicalExpression:e=this.optimizeLogicalExpression(t);break;case r.ESTree.type.BinaryExpression:e=this.optimizeBinaryExpression(t);break;case r.ESTree.type.UnaryExpression:e=this.optimizeUnaryExprssion(t);break;case r.ESTree.type.Identifier:e=this.optimizeIdentifier(t);break;case r.ESTree.type.Literal:e=this.optimizeLiteral(t);break;case r.ESTree.type.Property:e=this.optimizeProperty(t);break;case r.ESTree.type.ObjectExpression:e=this.optimizeObjectExpression(t);break;case r.ESTree.type.ArrayExpression:e=this.optimizeArrayExpression(t);break;case r.ESTree.type.MemberExpression:e=this.optimizeMemberExpression(t);break;case r.ESTree.type.CallExpression:e=this.optimizeCallExpression(t)}this._result=e},t.prototype.optimizeProgram=function(t){var e=this;if(t.body=t.body.map(function(t){return t.accept(e),e._result}),1===t.body.length)return t.body[0];if(0===t.body.length)return new o.Constant(null);for(var n=!0,r=0,i=t.body;r<i.length;r++){if(!(i[r]instanceof o.Constant)){n=!1;break}}return n?t.body[t.body.length-1]:t},t.prototype.optimizeExpressionStatement=function(t){return t.expression.accept(this),this._result},t.prototype.optimizeAssignmentExpression=function(t){return t.left.accept(this),t.left=this._result,t.right.accept(this),t.right=this._result,t},t.prototype.optimizeConditionalExpression=function(t){t.test.accept(this),t.test=this._result,t.consequent.accept(this),t.consequent=this._result,t.alternate.accept(this),t.alternate=this._result;var e=t.test;return e instanceof o.Constant?e.value?t.consequent:t.alternate:t},t.prototype._codeLogicalSymbol=function(t){return"&&"===t?0:"||"===t?1:t instanceof o.Constant?t.value?1:0:2},t.prototype._optimizeExpressions=function(t){var e=this;return t.map(function(t){return t?(t.accept(e),e._result):new o.Constant(null)})},t.prototype.optimizeLogicalExpression=function(t){var e=this,n=t.operator;t.left.accept(this);var r=t.left=this._result;t.right.accept(this);var i=t.right=this._result,s=Number(r instanceof o.Constant)+Number(i instanceof o.Constant);if(2===s)return new o.Constant(this._interpreter.exec(t));if(0===s)return t;var a=0;return[r,n,i].forEach(function(t){return a=10*a+e._codeLogicalSymbol(t)}),[r,i,t][this._logicalExpressionTruthTable[a]]},t.prototype.optimizeBinaryExpression=function(t){t.left.accept(this);var e=t.left=this._result;t.right.accept(this);var n=t.right=this._result;if(e instanceof o.Constant&&n instanceof o.Constant){var r=this._interpreter.exec(t);return new o.Constant(r)}return t},t.prototype.optimizeUnaryExprssion=function(t){if(t.argument.accept(this),t.argument=this._result,t.argument instanceof o.Constant){var e=this._interpreter.exec(t);return new o.Constant(e)}return t},t.prototype.optimizeIdentifier=function(t){return t},t.prototype.optimizeLiteral=function(t){return new o.Constant(t)},t.prototype.optimizeProperty=function(t){return t.value.accept(this),t.value=this._result,t},t.prototype.optimizeObjectExpression=function(t){t.properties=this._optimizeExpressions(t.properties);for(var e=!0,n=0,r=t.properties;n<r.length;n++){if(!(r[n].value instanceof o.Constant)){e=!1;break}}if(!e)return t;var i=this._interpreter.exec(t);return new o.Constant(i)},t.prototype.optimizeArrayExpression=function(t){t.elements=this._optimizeExpressions(t.elements);for(var e=!0,n=0,r=t.elements;n<r.length;n++){if(!(r[n]instanceof o.Constant)){e=!1;break}}if(!e)return t;var i=this._interpreter.exec(t);return new o.Constant(i)},t.prototype.optimizeMemberExpression=function(t){t.object.accept(this);var e=t.object=this._result;t.computed&&(t.property.accept(this),t.property=this._result);var n=t.property;return e instanceof o.Constant&&(n instanceof o.Constant||n instanceof o.Identifier)?new o.Constant(this._interpreter.exec(t)):t},t.prototype.optimizeCallExpression=function(t){var e=this;return t.callee.accept(this),t.callee=this._result,t.arguments=t.arguments.map(function(t){return t.accept(e),e._result}),t},t}();e.AstOptimizer=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n.elements=e,n}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ArrayExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return"array"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.elements.slice(0)},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.Expression);e.ArrayExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function e(e,n,r){var o=t.call(this)||this;return o.operator=e,o.left=n,o.right=r,o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"AssignmentExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.operator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.left,this.right]},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.eval(this)},e}(o.Expression);e.AssignmentExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n,r){var o=t.call(this)||this;return o.operator=e,o.left=n,o.right=r,o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"BinaryExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.operator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.left,this.right]},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.default);e.BinaryExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function e(e,n){var r=t.call(this)||this;return r.callee=e,r.arguments=n instanceof Array?n:[],r}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"CallExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return"CallExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.arguments.slice(0)},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.arguments[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.Expression);e.CallExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(t){function e(e,n,r){var o=t.call(this)||this;return o.test=e,o.consequent=n,o.alternate=r,o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ConditionalExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.test,this.consequent,this.alternate]},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.Ast);e.ConditionalExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function e(e){var n=t.call(this)||this;if(n._isContainer=!1,e instanceof o.Literal)n._value=e.value;else if(!1==e instanceof Object||e instanceof RegExp)n._value=e;else{n._isContainer=!0;try{n._value=JSON.stringify(e)}catch(t){throw console.error("Constant: 只接受Literal, 基础类型, 正则表达式, 以及能够转换为JSON字符串的Object"),t}}return n}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._isContainer?JSON.parse(this._value):this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"Constant"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.value?this.value.toString():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return null},e.prototype.accept=function(t){t.eval(this)},e.prototype.toJson=function(){return{type:this.type,ivalue:this.value}},e}(o.Expression);e.Constant=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function e(e){var n=t.call(this)||this;return n.expression=e,n}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ExpressionStatement"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.expression]},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.Statement);e.ExpressionStatement=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e){var n=t.call(this)||this;return n.name=e,n}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Identifier"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return null},e.prototype.accept=function(t){t.eval(this)},e}(o.default);e.Identifier=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Literal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.value?this.value.toString():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return null},e.prototype.accept=function(t){t.eval(this)},e.prototype.toJson=function(){return{type:this.type}},e}(o.default);e.Literal=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n,r){var o=t.call(this)||this;return o.operator=e,o.left=n,o.right=r,o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"LogicalExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.operator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.left,this.right]},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.default);e.LogicalExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function e(e,n,r){var o=t.call(this)||this;return o.object=e,o.property=n,o.computed=r,o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"MemberExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.object+"."},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return null},e.prototype.accept=function(t){t.eval(this)},e}(o.Expression);e.MemberExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n.properties=e,n}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ObjectExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return"object"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.properties.slice(0)},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.Expression);e.ObjectExpression=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n.body=e,n}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Program"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.body.slice()},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.body[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.Ast);e.Program=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(t){function e(e,n,r){void 0===r&&(r="init");var o=t.call(this)||this;return o.key=e,o.value=n,o.kind=r,o}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Property"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.key.ivalue||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.value]},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.Ast);e.Property=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.default);e.Statement=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(t){function e(e,n){var r=t.call(this)||this;return r.operator=e,r.argument=n,r.prefix=!0,r}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"UnaryExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ivalue",{get:function(){return this.operator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.argument]},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this.children[t]},e.prototype.accept=function(t){t.eval(this)},e}(o.default);e.UnaryExpression=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(20);var r=n(18);e.Grammar=r.Grammar;var o=n(4);e.GrammarSymbol=o.default;var i=n(8);e.Production=i.default;var s=n(9);e.SetsGenerator=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(54);e.Lexer=r.Lexer;var o=n(19);e.Token=o.Token},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=function(){function t(t){void 0===t&&(t=[]);var e=this;this._lexRuleList=[],t.forEach(function(t){return e.addRule(t)})}return t.prototype.tokenize=function(t){for(var e,n=[];t.length>0;){if(!(e=this._match(t))){var o="(0,0,0): error : token 匹配失败, 当前文本: "+t;throw console.log(o),"匹配失败, 不认识的字符"}var i=e.token;e.lexRule.isIgnore||n.push(i),t=t.slice(i.text.length)}return n.push(r.default.EOF),n},t.prototype.addRule=function(t){var e=t.type,n=t.pattern,r=t.evaluator,o=t.isIgnore;this._lexRuleList.push({type:e,pattern:n,regex:new RegExp("^"+n),isIgnore:o,evaluator:r})},t.prototype._match=function(t){for(var e,n,o,i=this._lexRuleList,s=0,a=i;s<a.length;s++){var u=a[s];if(u.regex&&(e=t.match(u.regex)))return n=e[0],u.evaluator?u.evaluator(n):n,o=new r.default(u.type,n,n),{token:o,lexRule:u}}return null},t}();e.Lexer=o,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),o=n(9),i=function(){function t(t){this.grammarOrSetsGenerator=t,this._table={},t instanceof r.default?(this.grammar=t,this.setsGenerator=new o.default(this.grammar)):(this.setsGenerator=t,this.grammar=this.setsGenerator.grammar),this._build()}return t.prototype.query=function(t,e){var n=this._table[t][e];return this.grammar.getProductionByPid(n)},t.prototype._build=function(){var t,e=this.grammar,n=this.setsGenerator,r=this._table;e.nonterminals.forEach(function(t){return r[t]={}});for(var o=0,i=e.productions;o<i.length;o++){var s=i[o];!function(e){t=e.start,n.selectOfProduction(e).forEach(function(n){void 0!==e.pid&&(r[t][n]=e.pid)})}(s)}},t.prototype.print=function(){console.log(this._table)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),o=n(4),i=n(55),s=n(1),a=function(){function t(t,e,n){this.grammar=t,this.lexer=e,this.parseTreeRoot=new s.RuleNode("root"),this.isDebug=!1;var o=new r.SetsGenerator(t,n);this.parseTable=new i.default(o),this.parseTreeVisitor=new s.ParseTreeVisitor(t.parseTreeVisitFuncTable)}return t.prototype._reset=function(t){this._stack=[o.GrammarSymbol.get(this.grammar.entrySymbol),o.GrammarSymbol.EOF],this._tokens=t,this._tokenIndex=0,this._ctx=this.parseTreeRoot},Object.defineProperty(t.prototype,"_currentStatus",{get:function(){return this._stack[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_lookahead",{get:function(){return this._tokens[this._tokenIndex]},enumerable:!0,configurable:!0}),t.prototype._nextToken=function(){this._tokenIndex+=1},t.prototype.parse=function(t){var e=this.parseForParseTree(t);return this.parseTreeVisitor.visit(e)},t.prototype.parseForParseTree=function(t){var e;e="string"==typeof t?this.lexer.tokenize(t):t,this._reset(e);for(var n,r=!1;!r;)switch(this.isDebug&&this.printParseStack(),n=this._currentStatus,n.type){case o.GrammarSymbolType.Terminal:this._match(n.symbol);break;case o.GrammarSymbolType.Nonterminal:this._enterRule();break;case o.GrammarSymbolType.RuleEnd:this._exitRule();break;case o.GrammarSymbolType.EOF:if(this._lookahead.type!==n.symbol)throw new Error("at the end of parse, expecting: EOF; but found: "+this._lookahead.type);r=!0;break;default:throw new Error("unknown grammar symbol type")}return this._ctx.removeChild(this._ctx.firstChild)},t.prototype._match=function(t){if(this._lookahead.type===t)return this._consume();throw new Error("expecting: "+t+"; but found: "+this._lookahead.type)},t.prototype._consume=function(){var t=this._lookahead,e=new s.TerminalNode(t);return this._ctx.addChild(e),this._nextToken(),this._stack.shift(),t},t.prototype._enterRule=function(){var t=this._currentStatus.symbol,e=this._lookahead.type,n=this.parseTable.query(t,e);if(!n)throw new Error("非终结符为: "+t+", 向前看1符号为: "+e+", 无法查找到对应的产生式");var r=new s.RuleNode(n);this._ctx.addChild(r),this._ctx=r,this._stack.shift(),this._stack=n.statusList.concat(this._stack)},t.prototype._exitRule=function(){this._ctx=this._ctx.getParent(),this._stack.shift()},t.prototype.printParseStack=function(){var t=this._stack.map(function(t){return t.symbol}).join(" "),e=this._tokens.slice(this._tokenIndex).map(function(t){return t.text}).join(" ");console.log(t+" \t "+e)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r;!function(t){!function(t){t.Program="Program",t.Expression="Expression",t.ExpressionStatement="ExpressionStatement",t.ThisExpression="ThisExpression",t.ArrayExpression="ArrayExpression",t.ObjectExpression="ObjectExpression",t.Property="Property",t.UnaryExpression="UnaryExpression",t.BinaryExpression="BinaryExpression",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.CallExpression="CallExpression",t.Identifier="Identifier",t.Literal="Literal"}(t.type||(t.type={}))}(r||(r={})),e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(){this._ruleVisitFuncs=[],this._terminalVisitFuncs={}}return t.prototype.getRuleVisitFunc=function(t){var e=t.production;if(!e||null===e.pid)throw"ruleNode 没有绑定对应产生式, 或者传入的产生式无pid, "+e;var n=this._ruleVisitFuncs[e.pid];return n||(n=this._defaultRuleVisitFuncs),n},t.prototype.getTerminalVisitFunc=function(t){var e=this._terminalVisitFuncs[t.type];if(!e)throw"terminalNode: "+t.type+", 未注册对应的访问函数";return e},t.prototype.addVisitFunc=function(t,e){if("number"==typeof t){var n=t;this._ruleVisitFuncs[n]=e}if("string"==typeof t){var r=t;this._terminalVisitFuncs[r]=e}},t.prototype._defaultRuleVisitFuncs=function(t,e,n){if(0===e.childCount)return n;if(1===e.childCount)return t.visit(e.firstChild,n);var o=0,i=0;if(e.children.forEach(function(t,e){t instanceof r.TerminalNode||(o+=1,i=e)}),1!==o)throw"当前节点: "+e+",\n\t\t\t\t默认parseTree处理规则只能处理子节点中RuleNode数量等于1的情况,\n\t\t \t\t当前节点子节点中RuleNode数量为: "+o;return t.visit(e.getChild(i),n)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t){this._visitFuncTable=t}return t.prototype.visit=function(t,e){if(t instanceof r.RuleNode){var n=t;return this._visitFuncTable.getRuleVisitFunc(n)(this,n,e)}var o=t;return this._visitFuncTable.getTerminalVisitFunc(o)(o)},t}();e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=function(t){function e(e){var n=t.call(this)||this;if(n._children=[],"string"==typeof e)return n._symbol=e,n;var r=e;return n._symbol=r.start,n.production=r,n}return r(e,t),Object.defineProperty(e.prototype,"payload",{get:function(){return this._symbol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.payload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.payload},enumerable:!0,configurable:!0}),e.prototype.setParent=function(t){this._parent=t},e.prototype.getParent=function(){return this._parent},Object.defineProperty(e.prototype,"children",{get:function(){return this._children.slice()},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return this._children[t]},Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._children[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){var t=this.children;return t[t.length-1]},enumerable:!0,configurable:!0}),e.prototype.addChild=function(t){return this._children.push(t),t.setParent(this),t},e.prototype.removeChild=function(t){var e=this._children.indexOf(t);return-1===e?t:(t.setParent(null),this._children.splice(e,1),t)},Object.defineProperty(e.prototype,"text",{get:function(){return this.toString()},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return{type:this.type,payload:this.payload,children:this.children?this.children.map(function(t){return t.toJson()}):null}},e.prototype.toString=function(){return this.name},e}(o.default);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=function(t){function e(e){var n=t.call(this)||this;return n._token=e,n}return r(e,t),Object.defineProperty(e.prototype,"payload",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.payload.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this.payload},enumerable:!0,configurable:!0}),e.prototype.setParent=function(t){this._parent=t},e.prototype.getParent=function(){return this._parent},Object.defineProperty(e.prototype,"children",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.getChild=function(t){return null},Object.defineProperty(e.prototype,"text",{get:function(){return this.token.text},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return{type:this.type,payload:this.payload}},e.prototype.toStringTree=function(){return this.toString()},e.prototype.toString=function(){return this.token.text},e}(o.default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(78);e.NgClass=r.NgClass;var o=n(79);e.NgFor=o.NgFor;var i=n(80);e.NgIf=i.NgIf;var s=n(81);e.NgInterpolate=s.NgInterpolate;var a=n(82);e.NgModel=a.NgModel},function(t,e,n){"use strict";function r(t){var e=p,n=t.deps,r=t.useClass;if(r&&!n&&(n=Reflect.getMetadata("design:paramtypes",r)||[]),n&&n.length){e=[];for(var o=0;o<n.length;o++){var s=n[o];e.push({token:s,options:6})}}else if(t.useExisting){var s=t.useExisting;e=[{token:s,options:6}]}else if(!(n||d in t))throw i("'deps' required",t);return e}function o(t,e){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==v?t.substr(2):t;var n=u.tokenStringify(e);if(e instanceof Array)n=e.map(u.tokenStringify).join(" -> ");else if("object"==typeof e){var r=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];r.push(o+":"+("string"==typeof i?JSON.stringify(i):u.tokenStringify(i)))}n="{"+r.join(", ")+"}"}return"InjectorError["+n+"]: "+t.replace(y,"\n  ")}function i(t,e){return new Error(o(t,e))}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(84),u=n(64),c=n(2),l=function(t){return t},p=[],f=l,d="useValue",h=a._Injector.NULL,y=/\n/gm,v="ɵ",_=function(t){function e(n,r){void 0===n&&(n=[]),void 0===r&&(r=h);var o=t.call(this)||this;o.parent=r;var i=o._records=new Map;return i.set(e,{fn:l,deps:p,value:o,useNew:!1}),c._.forEach(n,function(t){i.set(t.provide,o._resolveProvider(t))}),o}return s(e,t),e.prototype.register=function(t){this._records.set(t.provide,this._resolveProvider(t))},e.prototype.get=function(t){return this._tryResolveToken(t)},e.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(u.tokenStringify(n))}),"StaticInjector["+t.join(", ")+"]"},e.prototype.instantiate=function(t){var e=this._resolveProvider({provide:t,useClass:t});return this._resolveRecord(e)},e.prototype._tryResolveToken=function(t,e){var n,r=this._records.get(t);try{n=r?this._resolveRecord(r,e):this.parent.get(t,e)}catch(e){e instanceof Error||(e=new Error(e));var o=e.ngTempTokenPath=e.ngTempTokenPath||[];throw o.unshift(t),r&&r.value===f&&(r.value=p),e}return n},e.prototype._resolveRecord=function(t,e){var n=t.value;if(n===f)throw Error(v+"Circular dependency");if(n===p){t.value=f;var r=t.useNew,o=t.fn,i=t.deps,s=this._resolveDependencyRecords(i);t.value=n=r?new((a=o).bind.apply(a,[void 0].concat(s))):o.apply(void 0,s)}return n;var a},e.prototype._resolveDependencyRecords=function(t){if(!t.length)return p;for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n],i=this._tryResolveToken(o.token);e.push(i)}return e},e.prototype._resolveProvider=function(t){var e=r(t),n=l,o=p,s=!1;if(d in t)o=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else{if(!t.useClass)throw i("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);s=!0,n=t.useClass}return{deps:e,fn:n,useNew:s,value:o}},e}(a._Injector);e.Injector=_},function(t,e,n){"use strict";function r(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(r).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function o(t){if(!t)return"";var e=("string"==typeof t?t:t.toString()).replace(c,"");return(e.match(s)||e.match(a))[1]}function i(t){var e=o(t),n=[];return e.split(",").map(function(t){var e=t.match(u);e&&n.push(e[2])}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.tokenStringify=r;var s=/^([^(]+?)=>/,a=/^[^(]*\(\s*([^)]*)\)/m,u=/^\s*(_?)(\S+?)\1\s*$/,c=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;e.funcParamsParse=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COLON="COLON",e.COMMA="COMMA",e.DOT="DOT",e.QUESTION_MARK="QUESTION_MARK",e.OPEN_PAREN="OPEN_PAREN",e.CLOSE_PAREN="CLOSE_PAREN",e.OPEN_SQUARE="OPEN_SQUARE",e.CLOSE_SQUARE="CLOSE_SQUARE",e.OPEN_CURLY="OPEN_CURLY",e.CLOSE_CURLY="CLOSE_CURLY",e.SEMICOLON="SEMICOLON",e.SPACE="SPACE",e.ENTER="ENTER",e.TAB="TAB",e.WHILE="WHILE",e.IF="IF",e.VAR="VAR",e.FUNC="FUNC",e.OP_ASSIGN="OP_ASSIGN",e.OP_LOGICAL="OP_LOGICAL",e.OP_EQUAL="OP_EQUAL",e.OP_RELATION="OP_RELATION",e.OP_ADD="OP_ADD",e.OP_MULT="OP_MULT",e.OP_NOT="OP_NOT",e.OP_COMMA="OP_COMMA",e.IDENTIFIER="IDENTIFIER",e.LITERAL_UNDEFINED="LITERAL_UNDEFINED",e.LITERAL_NULL="LITERAL_NULL",e.LITERAL_BOOL="LITERAL_BOOL",e.LITERAL_NUM="LITERAL_NUM",e.LITERAL_STR="LITERAL_STR"},function(t,e,n){"use strict";function r(t){return"*"===t[0]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(67),s={};"click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(/\s+/).forEach(function(t){return s[t]=!0});var a,u=new i.DomElementSchemaRegistry;!function(t){t[t.INPUT=1]="INPUT",t[t.OUTPUT=2]="OUTPUT"}(a=e.BoundType||(e.BoundType={}));var c=function(){function t(t,e,n){this.name=t,this.expression=e,this.type=n}return t}();e.Bound=c;var l=function(){function t(t,e){void 0===e&&(e=!1),this.inputBoundsTable={},this.outputBoundsTable={},this.nativeInputBoundsTable={},this.nativeOutputBoundsTable={},this._attrs=new Map,this.tagName=t.tagName;var n=this._preprocessingDomAttrs(t,e);this._analyseAttrs(n),this.attrNames=Array.from(this._attrs.keys())}return t.prototype._preprocessingDomAttrs=function(t,e){var n=this,i=Array.prototype.slice.call(t.attributes),s=new Map;return o.default.forEach(i,function(o){if(r(o.name)){if(!e)return;s.set("["+o.name.slice(1)+"]",o.value),n.structuralSelector=o.name,n.structuralExpression=o.value,t.removeAttribute(o.name)}else{if(e)return;s.set(o.name,o.value.trim())}}),this._rewriteNgModel(t,s),this._rewriteNgFor(s),s},t.prototype._rewriteNgModel=function(t,e){if(t instanceof HTMLInputElement){var n=e.get("[(ng-model)]");n&&(e.delete("[(ng-model)]"),e.set("[ng-model]",n),e.set("(ng-model-change)",n+" = $event"))}},t.prototype._rewriteNgFor=function(t){var e=t.get("[ng-for]");if(e&&0!=e.length){t.delete("[ng-for]");var n=e.split(/\s/);t.set("ngFor",""),t.set("[letValueId]","'"+n[1]+"'"),t.set("[ngForOf]",n[3])}},t.prototype._analyseAttrs=function(t){var e=this;t.forEach(function(t,n){var r=o.default.camelCase(n);e._set(r,t),e._createBound(n,r,t)})},t.prototype._createBound=function(t,e,n){var r=this._getBoundType(t);if(r){var o=new c(e,n,r);switch(r){case a.INPUT:this.inputBoundsTable[e]=o,this._isNativeInputBoundType(this.tagName,e)&&(this.nativeInputBoundsTable[e]=o);break;case a.OUTPUT:this.outputBoundsTable[e]=o,this._isNativeOutputBoundType(e)&&(this.nativeOutputBoundsTable[e]=o)}}},t.prototype._getBoundType=function(t){var e=[t[0],t[t.length-1]],n=e[0],r=e[1];return"["===n&&"]"===r?a.INPUT:"("===n&&")"===r?a.OUTPUT:null},t.prototype._isNativeInputBoundType=function(t,e){return u.hasProperty(t,e)},t.prototype._isNativeOutputBoundType=function(t){return!!s[t]},t.prototype.getInputBound=function(t){return this.inputBoundsTable[t]},t.prototype.getOutputBound=function(t){return this.outputBoundsTable[t]},t.prototype.get=function(t){return this._attrs.get(t)},t.prototype._set=function(t,e){this._attrs.set(t,e)},t}();e.Attributes=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="boolean",o="number",i="string",s="object",a=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],u=function(){function t(){var t=this;this._schema={},a.forEach(function(e){var n={},a=e.split("|"),u=a[0],c=a[1],l=c.split(","),p=u.split("^"),f=p[0],d=p[1];f.split(",").forEach(function(e){return t._schema[e.toLowerCase()]=n});var h=d&&t._schema[d.toLowerCase()];h&&Object.keys(h).forEach(function(t){n[t]=h[t]}),l.forEach(function(t){if(t.length>0)switch(t[0]){case"*":break;case"!":n[t.substring(1)]=r;break;case"#":n[t.substring(1)]=o;break;case"%":n[t.substring(1)]=s;break;default:n[t]=i}})})}return t.prototype.hasProperty=function(t,e){return!!(this._schema[t.toLowerCase()]||this._schema.unknown)[e]},t}();e.DomElementSchemaRegistry=u},function(t,e,n){"use strict";function r(t,e,n){for(var r in n.nativeInputBoundsTable){var o=n.nativeInputBoundsTable[r],i=o.expression,s=u.$parse(i),a=new c.Binding(r,s,e);t.bind(a)}for(var l in n.nativeOutputBoundsTable)!function(r){var o=n.nativeOutputBoundsTable[r],i=o.expression,s=u.$parse(i);e.addEventListener(r,function(e){t.locals.$event=e;try{s(t.context,t.locals)}catch(t){throw t}finally{delete t.locals.$event}t.root.detectChanges()})}(l)}function o(t,e,n,r){d.default.forEach(r,function(r){var o=r.metadata,s=e instanceof HTMLElement?e:null,a=[];e instanceof c.ViewContainer&&a.push({provide:c.ViewContainer,useValue:e});var u=r.instantiateCtrl(s,a);i(t,o,u,null,n)})}function i(t,e,n,r,o){var i=e.hostListener||{},s=e.inputs||[],a=e.outputs||[],l=[];if(r){for(var p in i)!function(t){var e=n[i[t]];"function"==typeof e&&r.addEventListener(t,function(){e.apply(n,[])})}(p)}d.default.forEach(s,function(e){var r=o.getInputBound(e);if(!r)return!0;var i=r.expression;if(i){var s=u.$parse(i),a=new c.Binding(e,s,n);l.push(a);var p=t.bind(a);a.watchFn.constant&&t.addAfterDetectChangesTask(function(){p()})}}),d.default.forEach(a,function(e){var r=o.getOutputBound(e);if(!r)return!0;var i=r.expression;if(i){var s=u.$parse(i);n[e].subscribe({next:function(e){s(t.context,{$event:e}),t.root.detectChanges()}})}})}function s(t){var e=f.default(t.nodeValue);return e?function(t,n){var r=new p.NgInterpolate(n),o=new c.Binding("text",e,r);t.bind(o)}:null}function a(t,e){var n=e.parentElement;n&&n.replaceChild(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(14),c=n(12),l=n(66),p=n(62),f=n(89),d=n(2),h=function(){function t(){}return t.compileComponent=function(t,e){return this._compiler.compileComponent(t,e)},t.prototype.compileComponent=function(t,e){var n=this._module;this._module=t;var r=this._compileChildNodes(e);return this._module=n,r},t.prototype._compileNode=function(t){return Node.TEXT_NODE===t.nodeType?s(t):this._compileElement(t)},t.prototype._compileElement=function(t){function e(t,e){if(a&&a(t,e),s){var n=s.render(e);t.addChild(n),i(t,s.metadata,n.context,e,o)}r&&r(t,e)}var n=new l.Attributes(t,!0);if(n.attrNames.length)return this._compileStructuralElement(t,n);var r,o=new l.Attributes(t),s=this._module.component(t.tagName),a=this._compileDirectivesOnElement(o);return s||(r=this._compileChildNodes(t)),e},t.prototype._compileStructuralElement=function(t,e){function n(t,n){var o=document.createComment("{ "+e.structuralSelector+" = "+e.structuralExpression+" }");a(o,n);var s=new c.ViewContainer(o,i,t._context);t.addChild(s),r&&r(t,s)}var r=this._compileStructuralDirectivesOnViewContainer(e),o=t.outerHTML,i=new c.EmbeddedViewFactory(this._module,{template:o});return n},t.prototype._compileDirectivesOnElement=function(t){function e(e,i){r(e,i,t),o(e,i,t,n)}var n=this._collectDirectives(t);return e},t.prototype._compileStructuralDirectivesOnViewContainer=function(t){function e(e,r){o(e,r,t,n)}var n=this._collectDirectives(t);return e},t.prototype._compileChildNodes=function(t){function e(t,e){for(var n=e.childNodes,r=0,i=o;r<i.length;r++){var s=i[r];s(t,n[s.nodeIndex])}}var n,r,o=[];if(t.childNodes&&t.childNodes.length)for(var i=0;n=t.childNodes[i];i++)(r=this._compileNode(n))&&(r.nodeIndex=i,o.push(r));return e},t.prototype._collectDirectives=function(t){for(var e=this._module,n=[],r=0,o=t.attrNames;r<o.length;r++){var i=o[r],s=e.directive(i);s&&n.push(s)}return n},t._compiler=new t,t}();e.ViewCompiler=h},,,,,,,,,function(t,e,n){"use strict";function r(t){document.addEventListener("DOMContentLoaded",function(){[o.NgClass,o.NgModel,o.NgIf,o.NgFor].forEach(function(e){return t.declare(e)});var e=t.component(t.entry),n=document.querySelector("body");if(!e)throw"tiny-ng bootstrap, entry component is not exists";e.render(n).detectChanges()})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(62);e.bootstrap=r},function(t,e,n){"use strict";function r(t){var e=[];return a.default.isArray(t)?e=t:a.default.isString(t)?e=0!==t.length?t.trim().split(/\s+/):[]:a.default.isObject(t)&&(e=[],a.default.forEach(Object.keys(t),function(n){t[n]&&e.push(n)})),e.sort(),e}var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),a=n(2),u=n(33),c=new u.ListDiffer,l=function(){function t(t){this._elem=t}return Object.defineProperty(t.prototype,"ngClass",{set:function(t){for(var e=r(this._elem.classList.toString()),n=r(t),o=c.diffMain(e,n),i=this._elem,s=0,a=o;s<a.length;s++){var l=a[s];switch(l.type){case u.DiffType.INSERT:i.classList.add(l.item);break;case u.DiffType.DELETE:i.classList.remove(l.item)}}},enumerable:!0,configurable:!0}),t=o([s.Directive({selector:"ngClass",inputs:["ngClass"]}),i("design:paramtypes",[HTMLElement])],t)}();e.NgClass=l,e.toClassList=r},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=n(12),a=n(2),u=n(33),c=function(){function t(t){this.viewContainer=t,this._differ=new u.ListDiffer}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){var e=new Map,n=this._oldList,r=this._differ.patchMake(n||[],t);if(0!==r.length){var o=this.patchApply(r,e,!0);this.patchApply(o,e),this._oldList=t.slice()}},enumerable:!0,configurable:!0}),t.prototype.patchApply=function(t,e,n){void 0===n&&(n=!1);var r,o,i,s,c,l,p,f=this.viewContainer,d=this.letValueId,h=(this._differ,[]),y=0;return a.default.forEach(t,function(t){v=[t.oldStart,t.newStart,t.diffs],o=v[0],i=v[1],r=v[2],s=0,a.default.forEach(r,function(t){switch(t.type){case u.DiffType.INSERT:p=e.get(t.item),p&&e.delete(t.item),!p&&n?(l=new u.Patch(i+s,i+s,[t]),h.push(l),y+=1):(r={},r[d]=t.item,c=r,f.createEmbeddedView(c,i+s-y)),s+=1;break;case u.DiffType.DELETE:p=f.detach(i+s-y),p&&e.set(t.item,p)}var r});var v}),h},t=r([i.Directive({selector:"ngFor",inputs:["letValueId","letKeyId","ngForOf"]}),o("design:paramtypes",[s.ViewContainer])],t)}();e.NgFor=c},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=n(12),a=function(){function t(t){this.viewContainer=t}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){t?0===this.viewContainer.length&&this.viewContainer.createEmbeddedView():this.viewContainer.clear()},enumerable:!0,configurable:!0}),t=r([i.Directive({selector:"ngIf",inputs:["ngIf"]}),o("design:paramtypes",[s.ViewContainer])],t)}();e.NgIf=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=function(){function t(t){this._elem=t}return Object.defineProperty(t.prototype,"text",{set:function(t){this._elem.nodeValue=t},enumerable:!0,configurable:!0}),t=r([i.Directive({inputs:["text"]}),o("design:paramtypes",[Text])],t)}();e.NgInterpolate=s},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=n(87),a=function(){function t(t){this.ngModelChange=new s.EventEmitter,this._elem=t;var e=this;this._elem.addEventListener("input",function(t){e.ngModelChange.emit(this.value)})}return Object.defineProperty(t.prototype,"ngModel",{set:function(t){this._elem.value=t||""},enumerable:!0,configurable:!0}),t=r([i.Directive({selector:"ngModel",inputs:["ngModel"],outputs:["ngModelChange"]}),o("design:paramtypes",[HTMLElement])],t)}();e.NgModel=a},function(t,e,n){"use strict";function r(t,n,r,i){function s(t){if(this instanceof s)return a.call(this,t),this;var n=new s(t),r=function(t){return(t.hasOwnProperty(e.ANNOTATIONS)?t[e.ANNOTATIONS]:Object.defineProperty(t,e.ANNOTATIONS,{value:[]})[e.ANNOTATIONS]).push(n),t};return i&&i(r),r}var a=o(n);return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function o(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var o in r)this[o]=r[o]}}}function i(t,n,r){function i(){function t(t,n,r){for(var i=t.hasOwnProperty(e.PARAMETERS)?t[e.PARAMETERS]:Object.defineProperty(t,e.PARAMETERS,{value:[]})[e.PARAMETERS];i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(o),t}for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this instanceof i)return s.apply(this,n),this;var o=new((a=i).bind.apply(a,[void 0].concat(n)));return t.annotation=o,t;var a}var s=o(n);return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function s(t,n,r){function i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof i)return s.apply(this,t),this;var r=new((o=i).bind.apply(o,[void 0].concat(t)));return function(t,n){var o=t.constructor,i=o.hasOwnProperty(e.PROP_METADATA)?o[e.PROP_METADATA]:Object.defineProperty(o,e.PROP_METADATA,{value:{}})[e.PROP_METADATA];i[n]=i.hasOwnProperty(n)&&i[n]||[],i[n].unshift(r)};var o}var s=o(n);return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Object.defineProperty(e,"__esModule",{value:!0}),e.ANNOTATIONS="__annotations__",e.PARAMETERS="__paramaters__",e.PROP_METADATA="__prop__metadata__",e.makeDecorator=r,e.makeParamDecorator=i,e.makePropDecorator=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(85),o=n(63),i=function(){function t(){}return t.create=function(t,e){return new o.Injector(t,e)},t.THROW_IF_NOT_FOUND=r._THROW_IF_NOT_FOUND,t.NULL=new r._NullInjector,t}();e._Injector=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(64);e._THROW_IF_NOT_FOUND=new Object;var o=function(){function t(){}return t.prototype.get=function(t,n){if(void 0===n&&(n=e._THROW_IF_NOT_FOUND),n===e._THROW_IF_NOT_FOUND)throw new Error("NullInjectorError: No provider for "+r.tokenStringify(t)+"!");return n},t}();e._NullInjector=o},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(83);e.Directive=o.makeDecorator("Directive",function(t){return void 0===t&&(t={}),t}),e.Component=o.makeDecorator("Component",function(t){return void 0===t&&(t={template:""}),r({},t)},e.Directive)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this._observers=[]}return t.prototype.subscribe=function(t){this._observers.push(t)},t.prototype.next=function(t){this._observers.forEach(function(e){return e.next(t)})},t}();e.Subject=o;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e}(o);e.EventEmitter=i},function(t,e,n){"use strict";function r(t){return"function"==typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.Type=Function,e.isType=r},function(t,e,n){"use strict";function r(t){return i._.isNull(t)||i._.isUndefined(t)?"":i._.isObject(t)?JSON.stringify(t):""+t}function o(t){function e(t){return i._.forEach(t,function(t,e){a[l[e]]=r(t)}),a.join("")}if(i._.isNil(t))return null;for(var n,o,a=[],u=[],c=[],l=[],p=0,f=0,d=0;p<t.length;){if(f=t.indexOf("{{",p),-1!==f&&(d=t.indexOf("}}",f+2)),-1===f||-1===d){a.push(t.substring(p));break}f!==p&&a.push(t.substring(p,f)),n=t.substring(f+2,d),o=s.$parse(n),u.push(n),c.push(o),l.push(a.length),a.push(o),p=d+2}if(u.length){var h=function(t,n){return e(c.map(function(e){return e(t,n)}))};return h.expression=t,h}return null}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),s=n(14);e.$interpolate=o,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(5),i=n(12);e.ANNOTATIONS="__annotations__";var s=function(){function t(t){var e=this;this._directives=new Map,this._components=new Map,this.injector=new o.Injector,t&&(this.entry=t.entry,r._.forEach(t.declarations||[],function(t){e.declare(t)}),r._.forEach(t.providers||[],function(t){e.provider(t)}))}return t.prototype.provider=function(t){if(t.provide)this.injector.register(t);else{var e=t;this.injector.register({provide:e,useClass:e})}},t.prototype.declare=function(t){var e=this._getMetadata(t),n=e.ngMetadataName;if(!this._isDirectiveMetadata(n))throw"请声明正确的指令";var r,o=this._normalizeName(e.selector);"Directive"===n?(this._directives.set(o,t),r=new i.DirectiveFactory(this,e,t)):(this._components.set(o,t),r=new i.ViewFactory(this,e,t)),this.injector.register({provide:t,useValue:r})},t.prototype.directive=function(t){t=this._normalizeName(t);var e=this._directives.get(t);return e?this.injector.get(e):null},t.prototype.component=function(t){t=this._normalizeName(t);var e=this._components.get(t);return e?this.injector.get(e):null},t.prototype.instantiate=function(t,e){return(e?new o.Injector(e,this.injector):this.injector).instantiate(t)},t.prototype._normalizeName=function(t){return r._.camelCase(t)},t.prototype._getMetadata=function(t){var n=t[e.ANNOTATIONS];if(!n||"object"!=typeof n[0])throw"你无法注册一个非指令";return n[0]},t.prototype._isDirectiveMetadata=function(t){return"Directive"===t||"Component"===t},t}();e.Module=s},function(t,e,n){"use strict";function r(t,e){if(e&&e.parentElement){var n=e.parentElement;n.lastChild===e?n.appendChild(t):n.insertBefore(t,e.nextSibling)}}function o(t){t.parentNode&&t.parentNode.removeChild(t)}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(25),a=n(2),u=function(t){function e(e,n,r,o){var i=t.call(this,r,o)||this;return i.anchorElement=e,i.embeddedViewFactory=n,i}return i(e,t),e.prototype.clear=function(){for(var t=this._children;t.length;)t.pop().destroy()},e.prototype.get=function(t){return this._children[t]},Object.defineProperty(e.prototype,"length",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this._children[this.length-1]},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(t,e){var n=document.createElement("div"),r=this.embeddedViewFactory.render(n,this.context,t);return r._hostElement=n.firstElementChild,this.insert(r,e),r},e.prototype.insert=function(t,e){return(a.default.isNil(e)||e>this.length)&&(e=this.length),0===e?r(t._hostElement,this.anchorElement):r(t._hostElement,this.get(e-1)._hostElement),this.addChild(t,e),t},e.prototype.indexOf=function(t){return this._children.indexOf(t)},e.prototype.remove=function(t){var e=this.detach(t);e&&e.destroy()},e.prototype.detach=function(t){if(0===this.length)return null;(a.default.isNil(t)||t>=this.length)&&(t=this.length-1);var e=this._children[t];return o(e._hostElement),a.default.arrayRemove(this._children,t),e},e}(s.View);e.ViewContainer=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(25),i=n(68),s=n(2),a=function(){function t(t,e,n){this.module=t,this.metadata=e,this.ctrlConstructor=n}return t.prototype.instantiateCtrl=function(t,e){return void 0===e&&(e=[]),this.ctrlConstructor?this.module.instantiate(this.ctrlConstructor,e.concat([{provide:HTMLElement,useValue:t}])):{}},t}();e.DirectiveFactory=a;var u=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.metadata=n,o._isCompiled=!1,o}return r(e,t),e.prototype.render=function(t,e,n){var r=this.metadata;t.innerHTML=r.template||"";var a=s.default.isObject(e)?e:this.instantiateCtrl(t),u=new o.View(a,n);return this._isCompiled||(this._linkFn=i.ViewCompiler.compileComponent(this.module,t),this._isCompiled=!0),this._linkFn&&this._linkFn(u,t),u._hostElement=t,u},e}(a);e.EmbeddedViewFactory=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(e){return t.prototype.render.call(this,e,null)},e}(u);e.ViewFactory=c},,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.completed=!1,this.editing=!1,this.title=t.trim()}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){t||(t=""),this._title=t.trim()},enumerable:!0,configurable:!0}),t}();e.Todo=r;var o=function(){function t(){this.visibility="all",this.filters={all:function(t){return t},active:function(t){return t.filter(function(t){return!t.completed})},completed:function(t){return t.filter(function(t){return t.completed})}};var t=JSON.parse(localStorage.getItem("angular2-todos")||"[]");this.todos=t.map(function(t){var e=new r(t._title);return e.completed=t.completed,e})}return t.prototype.updateStore=function(){localStorage.setItem("angular2-todos",JSON.stringify(this.todos))},t.prototype.getWithCompleted=function(t){return this.todos.filter(function(e){return e.completed===t})},Object.defineProperty(t.prototype,"filteredTodos",{get:function(){return this.filters[this.visibility](this.todos)},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(t){this.visibility=t},t.prototype.allCompleted=function(){return this.todos.length===this.getCompleted().length},t.prototype.setAllTo=function(t){this.todos.forEach(function(e){return e.completed=t}),this.updateStore()},t.prototype.removeCompleted=function(){this.todos=this.getWithCompleted(!1),this.updateStore()},t.prototype.getRemaining=function(){return this.getWithCompleted(!1)},t.prototype.getCompleted=function(){return this.getWithCompleted(!0)},t.prototype.toggleCompletion=function(t){t.completed=!t.completed,this.updateStore()},t.prototype.remove=function(t){this.todos.splice(this.todos.indexOf(t),1),this.updateStore()},t.prototype.add=function(t){this.todos.push(new r(t)),this.updateStore()},t.prototype.sort=function(){this.todos.sort(function(t,e){return t.title>e.title?1:-1})},t}();e.TodoStore=o},,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),s=n(108),a=function(){function t(t){this.newTodoText="",this.todoStore=t}return t.prototype.stopEditing=function(t,e){t.editing&&(t.title=e,t.editing=!1)},t.prototype.updateOrCancelEditingTodo=function(t,e){var n=t.keyCode,r=t.target.value;13===n?this.updateEditingTodo(e,r):27===n&&this.cancelEditingTodo(e)},t.prototype.updateEditingTodo=function(t,e){if(e=e.trim(),t.editing=!1,0===e.length)return this.todoStore.remove(t);t.title=e},t.prototype.cancelEditingTodo=function(t){t.editing=!1},t.prototype.editTodo=function(t){t.editing=!0},t.prototype.removeCompleted=function(){this.todoStore.removeCompleted()},t.prototype.toggleCompletion=function(t){this.todoStore.toggleCompletion(t)},t.prototype.remove=function(t){this.todoStore.remove(t)},t.prototype.addTodo=function(t){13===(t.charCode||t.keyCode)&&this.newTodoText.trim().length&&(this.todoStore.add(this.newTodoText),this.newTodoText="")},t=r([i.Component({selector:"todo-app",template:'\n\t\t<section class="todoapp">\n\t\t\t<header class="header">\n\t\t\t\t<h1>todos</h1>\n\t\t\t\t<input \n\t\t\t\t\tclass="new-todo" \n\t\t\t\t\tplaceholder="What needs to be done?" \n\t\t\t\t\tautofocus=""\n\t\t\t\t\t[(ng-model)]="newTodoText" \n\t\t\t\t\t(keyup)="addTodo($event)">\n\t\t\t</header>\n\n\t\t\t<section class="main" *ng-if="todoStore.filteredTodos.length > 0">\n\t\n\t\t\t\t<input\n\t\t\t\t\tclass="toggle-all"\n\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t#toggleall\n\t\t\t\t\t*ng-if="todoStore.todos.length"\n\t\t\t\t\t[checked]="todoStore.allCompleted()"\n\t\t\t\t\t(click)="todoStore.setAllTo(toggleall.checked)">\n\n\t\t\t\t<ul class="todo-list">\n\t\t\t\t\t<li\n\t\t\t\t\t\t[ng-class]="{ editing: todo.editing, completed: todo.completed }"\n\t\t\t\t\t\t*ng-for="let todo of todoStore.filteredTodos">\n\n\t\t\t\t\t\t<div class="view">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass="toggle"\n\t\t\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t\t\t(click)="toggleCompletion(todo)"\n\t\t\t\t\t\t\t\t[checked]="todo.completed">\n\t\t\t\t\t\t\t<label (dblclick)="editTodo(todo)">{{ todo.title }}</label>\n\t\t\t\t\t\t\t<button class="destroy" (click)="remove(todo)"></button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclass="edit"\n\t\t\t\t\t\t\t*ng-if="todo.editing"\n\t\t\t\t\t\t\t[value]="todo.title"\n\t\t\t\t\t\t\t(keyup)="updateOrCancelEditingTodo($event, todo)"\n\t\t\t\t\t\t\t(blur)="stopEditing(todo, $event.target.value)">\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</section>\n\n\t\t\t<footer class="footer" *ng-if="todoStore.todos.length > 0">\n\t\t\t\t<span class="todo-count">\n\t\t\t\t\t<strong>{{todoStore.getRemaining().length}}</strong> \n\t\t\t\t\t{{todoStore.getRemaining().length == 1 ? \'item\' : \'items\'}} left\n\t\t\t\t</span>\n\n\t\t\t\t<ul class="filters">\n\t\t\t\t\t<li><a (click)="todoStore.setVisibility(\'all\')" [ng-class]="{ selected: todoStore.visibility == \'all\' }">All</a></li>\n\t\t\t\t\t<li><a (click)="todoStore.setVisibility(\'active\')" [ng-class]="{ selected: todoStore.visibility == \'active\' }">Active</a></li>\n\t\t\t\t\t<li><a (click)="todoStore.setVisibility(\'completed\')" [ng-class]="{ selected: todoStore.visibility == \'completed\' }">Completed</a></li>\n\t\t\t\t\t<li><a (click)="todoStore.sort()">Sort</a></li>\t\t\t\t\t\n\t\t\t\t</ul>\n\n\t\t\t\t<button class="clear-completed" *ng-if="todoStore.getCompleted().length > 0" (click)="removeCompleted()">Clear completed</button>\n\t\t\t</footer>\n\t\t</section>\n\t'}),o("design:paramtypes",[s.TodoStore])],t)}();e.TodoAppComponent=a},,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),o=n(126),i=n(108),s={declarations:[o.TodoAppComponent],providers:[i.TodoStore],entry:"todo-app"},a=new r.Module(s);r.bootstrap(a)}])});